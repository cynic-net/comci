#!/usr/bin/env python3

from    os  import getcwd
from    sys  import stderr

from    pygit2  import *


def debug(*s):
    print(*s, file=stderr)

def find_repo():
    cwd = getcwd()
    debug('cwd:', cwd)
    repo_path = discover_repository(cwd)
    debug('repo_path:', repo_path)
    repo = Repository(repo_path)
    debug('repo:', repo)
    return repo


if __name__ == '__main__':
    repo = find_repo()
    print(repo.raw_listall_branches())
